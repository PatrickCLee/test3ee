<script>
	let xhttp = new XMLHttpRequest();
	let i = 1;
	let j = 0;
	
	setInterval(() => {
			i++;
			test1();
	}, 3000);
	
	function test1(){
		xhttp.onreadystatechange = function() {	//xhttp物件已準備好,狀態有被改變時呼叫function
			  if (this.readyState == 4 && this.status == 200) {//詳見 https://www.w3schools.com/js/js_ajax_http.asp
			    document.getElementById("here").innerHTML = 
			    	i + ":" + this.responseText;
			  }
			};
			xhttp.open("GET", "w4brad57.jsp", true);	//xhttp物件先來設定要用get方式遠端的目標物"w4brad57.jsp"提出要求,true為非同步
			xhttp.send();	
	}

	function test2(){
		xhttp.onreadystatechange = function() {	
			  if (this.readyState == 4 && this.status == 200) {
			    document.getElementById("there").innerHTML = 
			    	j++ + this.responseText;
			    	
			  }
			};
		xhttp.open("POST", "w4brad58.jsp", true);
		xhttp.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
		xhttp.send("fname=Henry&lname=Ford");
	}
	
</script>
<input type="button" onclick="test1()" value="test1" />
<input type="button" onclick="test2()" value="test2" />
<hr>
<div id="here"></div>
<div id="there"></div>
<!-- 點按鈕去後端做方法(由57號處理),顯示,頁面沒有重新載入 -->